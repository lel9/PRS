\documentclass[a4paper,12pt]{report} %размер бумаги устанавливаем А4, шрифт 12пунктов
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
%\usepackage[cp1251]{inputenc}%включаем свою кодировку: koi8-r или utf8 в UNIX, cp1251 в Windows
\usepackage[english,russian]{babel}%используем русский и английский языки с переносами
\usepackage{hyperref}
\usepackage{listings}
%\usepackage{amssymb,amsfonts,amsmath,mathtext,cite,enumerate,float} %подключаем нужные пакеты расширений
%\usepackage[dvips]{graphicx} %хотим вставлять в диплом рисунки?
%\graphicspath{{images/}}%путь к рисункам
\setcounter{tocdepth}{4}

\usepackage{geometry} % Меняем поля страницы
\geometry{left=2cm}% левое поле
\geometry{right=1.5cm}% правое поле
\geometry{top=1cm}% верхнее поле
\geometry{bottom=2cm}% нижнее поле
\makeatletter
%\def\@makechapterhead#1{%
%	{\normalfont
		
%		\bfseries\Huge{#1}\par\nobreak\vskip 20\p@}}
%\makeatother
%\newcommand{hell}[1]{\value{chapter}\chapter{ #1 }}
\begin{document}
	\input{Metoda-Title}% это титульный лист
	\tableofcontents % это оглавление, которое генерируется автоматически
	
	\chapter* {Введение}
	\chapter {Лабораторная работа 1.1. Сборка и запуск учебного веб-сайта}
	\textbf{Цель}: Подготовка рабочего места для лабораторных работ 1.2-1.14.
	
	
	\section{Задание}
	Скачать исходный код учебного веб-сайта из репозитория курса \url{}, изучить его, выполнить настройку окружения в соответствии с инструкцией, запустить учебный веб-сайт и проверить работоспособность.
	\section{Учебный веб-сайт}
	\subsection{Набор данных}
	В лабораторных работах будут использованы общедоступные данные веб-сайта MovieLens (\url{https://movielens.org}), собранные и опубликованные компанией GroupLens Research: \url{https://grouplens.org/datasets/movielens}. Компания предоставила несколько наборов данных, для учебного веб-сайта выбран набор ml-latest-small.zip (\url{https://files.grouplens.org/datasets/movielens/ml-latest-small.zip} от 9/2018, содержащий 100 000 оценок и 3 600 тегов, примененных к 9 000 фильмам 600 пользователями.
	
	Набор состоит из следующих файлов:
	\begin{itemize}
		\item movies.csv -- фильмы, для каждого указаны идентификатор (movieId), название и год выхода (title), список жанров (genres);
		\item ratings.csv -- оценки, для каждой указаны идентификатор пользователя (userId), идентификатор фильма (movieId), значение от 0.5 до 5 (rating), отметка времени добавления (timestamp);
		\item tags.csv -- теги, для каждого указан идентификатор пользователя (userId), идентификатор фильма (movieId), значение (tag), отметка времени добавления (timestamp);
		\item links.csv -- соответствие идентификаторов фильмов на веб-сайте MovieLens идентификаторам на других ресурсах (\url{http://www.imdb.com}, \url{https://www.themoviedb.org}), в лабораторных работах использоваться не будет.
    \end{itemize}
	\subsection{Серверная часть}
	Серверная часть написана на языке Python с использованием фреймворка Flask и состоит из следующих файлов:
	\begin{itemize}
		\item model.py -- логика запросов к базе данных (чтение и запись);
		\item model\_helpers.py -- вспомогательные функции для файла model.py, такие как установка и закрытие соединения с базой данных, преобразование объектов sqllite3.Row в словари;
		\item api.py -- API, каждая функция API вызывает соответствующую функцию из файла model.py для чтения или записи данных в базу данных.
	\end{itemize}
    В качестве СУБД используется SQLite, реализованная встроенным в Python модулем.
	\subsection{Клиентская часть}
	Про реакт (?)
	\section{Настройка окружения}
	\begin{enumerate}
		\item Установить Python 3 с официального сайта: \url{https://www.python.org/downloads/}
		\item Установить IDE (опционально), например, PyCharm: \url{https://www.jetbrains.com/pycharm/download/} 
		\item Установить ???
		\item Установить HTTP-клиент для тестирования API, например, Postman: \url{https://www.postman.com/downloads/}
		\item Перейти в директорию с исходным кодом.
		\item Установить необходимые пакеты Python (Flask, Flask\_Cors), из IDE или выполнив команду
		\begin{verbatim}
			pip install -r requirements.txt
		\end{verbatim}
	    \item Запустить скрипт инициализации базы данных db\_init\_script.py, из IDE или выполнив команду
	    \begin{verbatim}
	    	python3 db_init_script.py
	    \end{verbatim}
	\end{enumerate}
    \section{Запуск и проверка работоспособности}
    \begin{enumerate}
    	\item Запустить серверную часть api.py, из IDE или выполнив команду 
    	\begin{verbatim}
    		python3 api.py
    	\end{verbatim} 
        \item Запустить клиентскую часть ???
        \item Открыть стартовую страницу в браузере, если всё настроено верно, её вид должен соответствовать рис. 1.1.
        \item В поле "идентификатор пользователя" ввести 1, в открывшейся странице должен отобразиться список фильмов (рис. 1.2)
        
    \end{enumerate}

    \chapter {Лабораторная работа 1.2. Неперсонализированные рекомендации}
    \textbf{Цель}: Изучение методов формирования неперсонализированных рекомендаций.
    
    \section{Задание}
    Доработать серверную и клиентскую часть учебного веб-сайта для отображения неперсонализированных рекомендаций: новых и самых популярных фильмов.
    
    \section{Неперсонализированные рекомендации}
    Простейшим видом рекомендаций являются неперсонализированные. Их особенность заключается в том, что, в отличие от персонализированных, они одинаковы для любого пользователя, взаимодействующего с рекомендательной системой. Примерами рекомендацией такого типа являются список наиболее популярных объектов (предположительно, пользователю понравятся те же объекты, которые понравились большинству других) и список новых (последних по дате появления) объектов.    
    \section{Доработка серверной части}
    \subsection{Отображение новых фильмов}
    Для отображения новых фильмов требуется:
    \begin{enumerate}
    	\item В файле api.py создать функцию get\_new\_movies,  связанную с URI /api/movies/new, для HTTP-метода GET, которая будет вызывать функцию get\_new\_movies из модуля model.py
    	\item В файле model.py создать функцию get\_new\_movies, которая будет получать из базы данных топ-20 новых фильмов с помощью SQL-запроса
    	\begin{verbatim}
    	    SELECT * FROM movies ORDER BY year DESC LIMIT 20;
    	\end{verbatim}
    \end{enumerate}
    \subsection{Отображение самых популярных фильмов}
    Для отображения самых популярных фильмов требуется:
    \begin{enumerate}
    	\item Дополнить таблицу movies столбцом rating, для этого в файле db\_update\_script реализовать функцию add\_rating\_column, которая будет выполнять следующий SQL-запрос 
    	\begin{verbatim}
    		ALTER TABLE movies ADD rating REAL;
    	\end{verbatim}
        \item Заполнить столбец rating значениями среднего рейтинга фильмов, для этого в файле db\_update\_script реализовать функцию load\_rating, которая будет выполнять следующий SQL-запрос
        \begin{verbatim}
        	UPDATE movies SET rating = 
        	(SELECT AVG(rating) FROM ratings
        	WHERE ratings.movieId = movies.movieId);
        \end{verbatim}
        \item Модифицировать функцию row\_to\_movie в файле model\_helpers.py, добавив новое поле rating.
    	\item Модифицировать функцию get\_all\_movies в файле model.py, чтобы она возвращала фильмы, упорядоченные по рейтингу, для этого изменить SQL-запрос на следующий
    	\begin{verbatim}
    		SELECT * FROM movies ORDER BY raiting DESC;
    	\end{verbatim}
    \end{enumerate}
    
    \section{Доработка клиентской части}
    
    
    \chapter {Лабораторная работа 1.3. Алгоритм Apriori для поиска ассоциативных правил}
    \textbf{Цель}: Изучение алгоритмов поиска ассоциативных правил.
    
    
    \section{Задание}
    Реализовать алгоритм Apriori, применить его к данным из базы данных учебного веб-сайта, сохранить полученные ассоциативные правила в файл.
    
    \section{Задача поиска ассоциативных правил}
    Впервые задача поиска ассоциативных правил (association rule mining) была решена для нахождения типичных шаблонов покупок, совершаемых в супермаркетах, поэтому иногда её еще называют анализом рыночной корзины (market basket analysis). 
    
    Рыночная корзина - это набор товаров, приобретенных покупателем в рамках одной отдельно взятой транзакции (одной покупки).
    
    Ассоциативным правилом называют зависимость следующего вида: если в транзакции присутствует набор X, то вероятно в нём также присутствует набор Y. Например, если покупатель приобрел макаронные изделия, то, скорее всего, он захочет приобрести также кетчуп.  Эта информация может быть использована для размещения товара на прилавках.
    
    \section{Алгоритм Apriori}
    Алгоритм Apriori -- это алгоритм поиска ассоциативных правил.
    
    
    
    
    
    
    
    
	
\end{document}

     
